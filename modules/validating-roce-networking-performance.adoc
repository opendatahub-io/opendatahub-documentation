:_module-type: PROCEDURE

[id="validating-roce-networking-performance_{context}"]
= Validating RoCE networking performance

[role='_abstract']
Validate your RoCE deployment with RDMA bandwidth tests and end-to-end inference benchmarks to ensure optimal performance.

== Running RDMA bandwidth tests

To validate network performance, run RDMA bandwidth tests:

[source,bash]
----
# Server pod
$ oc exec <server-pod> -- ib_write_bw -d mlx5_0 -a -F

# Client pod
$ oc exec <client-pod> -- ib_write_bw -d mlx5_0 -a -F <server-ip>
----

Expected results for 100 Gbps RoCE:
* Bandwidth: >90 Gbps
* Latency: <2 microseconds

== Running end-to-end inference benchmarks

To measure end-to-end performance, use tools like GuideLLM or vLLM benchmarks:

[source,bash]
----
# Install GuideLLM
$ pip install guidellm

# Run benchmark
$ guidellm \
  --model <model-name> \
  --endpoint <inference-endpoint> \
  --requests 1000 \
  --concurrency 50 \
  --output benchmark-results.json
----

Compare results with and without RoCE to quantify performance improvements.
