:_module-type: ASSEMBLY

ifdef::context[:parent-context: {context}]

[id="using-postgresql-in-llama-stack_{context}"]
= Using PostgreSQL in Llama Stack

[role="_abstract"]
PostgreSQL is a dependency for Llama Stack deployments in {productname-short}, where it serves as the mandatory metadata storage backend for supported vector storage configurations. Additionally, you can configure PostgreSQL as a remote vector database provider by enabling the pgvector extension.

In {productname-short}, PostgreSQL serves the following roles in Llama Stack deployments:

* Required metadata storage for Llama Stack APIs and orchestration services
* An optional remote vector database when the pgvector provider is enabled.

Use a single instance for development and testing environments, or separate instances for production deployments requiring independent scaling and isolation. These roles can be fulfilled by the same PostgreSQL instance or by separate instances, depending on your deployment requirements. These roles can be fulfilled by the same PostgreSQL instance or by separate instances. 

[IMPORTANT]
====
The procedures provide basic configuration suitable for development and testing. Production deployments require additional planning, including the following considerations:

* High availability and replication
* Backup and disaster recovery
* Security hardening and encryption
* Performance tuning and monitoring
====

== Understanding PostgreSQL in Llama Stack

include::modules/understanding-llama-stack-metadata-storage.adoc[leveloffset=+2]
include::modules/overview-of-pgvector-vector-databases.adoc[leveloffset=+2]

== Deploying and Configuring PostgreSQL

include::modules/deploying-a-postgresql-instance-with-pgvector.adoc[leveloffset=+2]
include::modules/configuring-the-pgvector-remote-provider-in-llama-stack.adoc[leveloffset=+2]


ifdef::parent-context[:context: {parent-context}]
ifndef::parent-context[:!context:]
